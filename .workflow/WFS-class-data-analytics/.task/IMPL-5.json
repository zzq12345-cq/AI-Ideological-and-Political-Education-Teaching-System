{
  "task_id": "IMPL-5",
  "title": "数据服务扩展 - AnalyticsDataService增强",
  "description": "扩展AnalyticsDataService支持个人和班级维度的数据查询，添加模拟数据生成器",
  "status": "pending",
  "priority": "medium",
  "session_id": "WFS-class-data-analytics",
  "scope": {
    "files_to_create": [
      "src/analytics/interfaces/IAnalyticsDataSource.h",
      "src/analytics/datasources/MockDataSource.h",
      "src/analytics/datasources/MockDataSource.cpp"
    ],
    "files_to_modify": [
      "src/analytics/AnalyticsDataService.h",
      "src/analytics/AnalyticsDataService.cpp",
      "CMakeLists.txt"
    ]
  },
  "requirements": [
    "IAnalyticsDataSource接口: 定义数据源抽象接口",
    "MockDataSource: 生成模拟学生、班级、成绩数据",
    "新增接口方法:",
    "  - getStudentList(classId) -> QVector<Student>",
    "  - getClassList() -> QVector<CourseClass>",
    "  - getStudentScores(studentId, dateRange) -> QVector<ScoreRecord>",
    "  - getClassScores(classId, dateRange) -> QVector<ScoreRecord>",
    "  - getStudentKnowledgePoints(studentId) -> QVector<KnowledgePoint>",
    "  - getClassKnowledgePoints(classId) -> QVector<KnowledgePoint>",
    "  - getClassRanking(classId) -> QVector<StudentRanking>",
    "保持向后兼容: 现有接口方法不变"
  ],
  "data_generation": {
    "students_per_class": 30,
    "classes_count": 3,
    "score_range": [40, 100],
    "knowledge_points": ["马克思主义基本原理", "中国特色社会主义", "习近平新时代思想", "党史学习", "时政热点"]
  },
  "acceptance_criteria": [
    "新接口方法返回合理的模拟数据",
    "现有接口保持正常工作",
    "数据具有一定随机性但符合逻辑",
    "预留Supabase对接接口"
  ],
  "estimated_effort": "medium",
  "dependencies": ["IMPL-1"],
  "blocked_by": ["IMPL-1"]
}
