# 产品经理分析报告：教师备课上课流程设计

**角色**: Product Manager
**会话ID**: WFS-teacher-lesson-workflow
**分析日期**: 2026-02-02
**项目**: AI思政智慧课堂系统 - 教师教学工作流模块

---

## 1. 产品愿景与定位

### 1.1 产品愿景

**核心愿景**: 打造教师一站式智慧教学工作台，通过AI技术赋能教学全流程，让教师从繁琐的备课工作中解放出来，专注于教学本身。

**价值主张**:
- **效率提升**: AI辅助备课减少70%重复性工作
- **体验统一**: 一站式工作台整合分散功能
- **数据驱动**: 全维度学情分析支持精准教学
- **渐进演进**: 保持现有功能兼容的同时持续优化

### 1.2 产品定位

| 维度 | 定位 |
|------|------|
| 目标用户 | 思政课程教师（本期仅教师端） |
| 使用场景 | 小班教学（30人以内） |
| 部署模式 | 单机桌面应用 |
| 技术特色 | Qt6原生应用 + Dify AI + Supabase |
| 差异化优势 | AI深度集成 + 教学全流程覆盖 |

### 1.3 产品原则

1. **备课优先**: MVP聚焦备课流程，这是教师最高频的使用场景
2. **渐进迁移**: 保持现有功能兼容，逐步整合到统一入口
3. **设计先行**: 完整设计三阶段，分期实现交付
4. **数据驱动**: 收集使用数据，指导后续迭代方向
5. **迁移引导**: 首次进入弹窗引导 + 教学向导，降低迁移成本（EP-007）

### 1.4 澄清与共识（Clarifications）

| EP | 问题 | 答案 | 分类 |
|----|------|------|------|
| EP-001 | P0阶段必须可用范围？ | 仅备课工作台（课件/试题/教案），课堂管理与学情分析保留入口占位 | Requirements |
| EP-002 | 非实时交互刷新策略？ | 手动+定时结合（默认定时，关键操作后手动触发） | Architecture |
| EP-003 | 无学生端的数据采集方案？ | 名单导入 + 二维码签到 + 轻量H5答题 | Requirements |
| EP-004 | 发布动作语义？ | 发布=备课完成，可进入授课 | Decisions |
| EP-005 | 首批KPI埋点优先级？ | 使用行为类（进入次数、功能使用率） | Requirements |
| EP-006 | 文件版本策略？ | 关键节点版本（发布/导出时） | Risk |
| EP-007 | 迁移引导策略？ | 首次进入弹窗引导 + 教学向导 | UX |

---

## 2. 用户画像与场景分析

### 2.1 核心用户画像

**主要用户: 思政课程教师**

| 特征 | 描述 |
|------|------|
| 年龄层 | 30-55岁 |
| 技术熟练度 | 中等，能使用Office和基础教学软件 |
| 工作模式 | 课前备课 + 课中授课（课堂管理） + 课后总结 |
| 痛点 | 备课耗时、课件重复制作、数据分析困难 |
| 期望 | 简化备课流程、智能辅助、一站式操作 |

### 2.2 用户场景地图

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           教师一天的教学流程                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                 │
│  │   课前备课   │───▶│   课堂管理   │───▶│   课后总结   │                 │
│  └─────────────┘    └─────────────┘    └─────────────┘                 │
│         │                  │                  │                         │
│         ▼                  ▼                  ▼                         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                 │
│  │ - 课件制作   │    │ - 签到管理   │    │ - 作业布置   │                 │
│  │ - 试题准备   │    │ - 课堂发题   │    │ - 成绩录入   │                 │
│  │ - 教案规划   │    │ - 进度监控   │    │ - 学情分析   │                 │
│  │ - AI辅助    │    │ - 状态展示   │    │ - 教学反思   │                 │
│  └─────────────┘    └─────────────┘    └─────────────┘                 │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.3 关键使用场景

#### 场景1: 新学期备课准备
- **背景**: 教师需要为新学期准备整个课程的教学资料
- **目标**: 快速搭建课程框架，生成各课时教案和课件
- **当前痛点**: 需要在多个工具间切换，工作分散
- **期望体验**: 在统一工作台中完成所有备课工作

#### 场景2: 日常课前准备
- **背景**: 教师在上课前需要最终确认教学内容
- **目标**: 复查课件、准备课堂测验题目
- **当前痛点**: 需要打开多个窗口查找资料
- **期望体验**: 一个入口查看本节课所有资源

#### 场景3: 课堂教学过程
- **背景**: 教师在课堂上需要管理学生签到和发布测验
- **目标**: 实时了解课堂状态，控制教学节奏
- **当前痛点**: 缺乏课堂管理工具
- **期望体验**: 直观的控制面板，一键操作

#### 场景4: 课后数据分析
- **背景**: 教师需要了解学生学习情况
- **目标**: 分析学生知识掌握度，调整教学策略
- **当前痛点**: 数据分散，缺乏综合分析
- **期望体验**: 多维度学情画像，可视化展示

**P0覆盖提示**: 一期仅覆盖场景1-2（备课相关）；场景3-4为二期/三期规划，并在P0以入口占位提示呈现。
**术语统一**: 文档中“课堂授课”阶段的系统能力统一称为“课堂管理”。

---

## 3. 用户故事库

### 3.1 备课阶段用户故事（P0 - MVP核心）

| ID | 用户故事 | 验收标准 | 优先级 |
|----|---------|---------|--------|
| US-101 | 作为教师，我想创建课程结构，以便组织我的教学内容 | 可创建课程并添加多个课时；支持课时排序和编辑 | P0 |
| US-102 | 作为教师，我想使用AI生成课件大纲，以便快速开始备课 | AI根据主题生成PPT大纲；可编辑和调整大纲内容 | P0 |
| US-103 | 作为教师，我想基于大纲生成完整PPT，以便节省制作时间 | 调用讯飞API生成PPT；支持下载和预览 | P0 |
| US-104 | 作为教师，我想为课时准备测验题目，以便检验学习效果 | 可从试题库选择题目；支持AI智能推荐 | P0 |
| US-105 | 作为教师，我想创建教案，以便规划教学流程 | 支持教案模板；可设置时间分配和环节说明 | P0 |
| US-106 | 作为教师，我想与AI对话辅助备课，以便获取教学建议 | AI对话实时响应；可生成教学建议和资料 | P0 |
| US-107 | 作为教师，我想在统一入口查看所有备课资源，以便高效工作 | 左侧导航树展示课程结构；右侧展示对应内容 | P0 |

### 3.2 课堂阶段用户故事（P1 - 二期）

| ID | 用户故事 | 验收标准 | 优先级 |
|----|---------|---------|--------|
| US-201 | 作为教师，我想发起课堂签到，以便记录出勤情况 | 一键发起签到；支持二维码签到与名单导入；实时显示签到人数和名单 | P1 |
| US-202 | 作为教师，我想发布课堂测验，以便检验即时学习效果 | 选择预设题目发布；支持轻量H5答题入口；收集学生答题结果 | P1 |
| US-203 | 作为教师，我想查看答题进度，以便控制课堂节奏 | 实时显示已答/未答人数；正确率统计 | P1 |
| US-204 | 作为教师，我想查看课堂状态面板，以便掌握整体情况 | 仪表盘显示关键指标；时间和状态清晰 | P1 |

### 3.3 课后阶段用户故事（P2 - 三期）

| ID | 用户故事 | 验收标准 | 优先级 |
|----|---------|---------|--------|
| US-301 | 作为教师，我想布置课后作业，以便巩固课堂学习 | 可选择题目或布置主观作业；设置截止时间 | P2 |
| US-302 | 作为教师，我想查看学生学情画像，以便了解学习状况 | 多维度分析展示；支持班级和个人视图 | P2 |
| US-303 | 作为教师，我想记录教学反思，以便持续改进 | 可添加课后备注；关联课时记录 | P2 |
| US-304 | 作为教师，我想导出学情报告，以便汇报和存档 | 支持PDF/Excel导出；包含完整分析数据 | P2 |

---

## 4. 功能清单与优先级矩阵

### 4.1 功能模块总览

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          教师教学工作流功能模块                           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     备课工作台（P0 - MVP）                        │   │
│  ├─────────────────────────────────────────────────────────────────┤   │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐       │   │
│  │  │ 课程管理   │ │ 课件生成   │ │ 试题准备   │ │ 教案规划   │       │   │
│  │  │           │ │           │ │           │ │           │       │   │
│  │  │ - 课程CRUD │ │ - AI大纲   │ │ - 题库选题 │ │ - 教案模板 │       │   │
│  │  │ - 课时管理 │ │ - PPT生成  │ │ - 智能组卷 │ │ - 流程设计 │       │   │
│  │  │ - 目录导航 │ │ - 讯飞API  │ │ - AI推荐   │ │ - 时间分配 │       │   │
│  │  └───────────┘ └───────────┘ └───────────┘ └───────────┘       │   │
│  │                        ┌───────────┐                            │   │
│  │                        │ AI对话助手 │                            │   │
│  │                        │ - Dify SSE │                            │   │
│  │                        │ - 备课辅助 │                            │   │
│  │                        └───────────┘                            │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     课堂管理（P1 - 二期）                         │   │
│  ├─────────────────────────────────────────────────────────────────┤   │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐                      │   │
│  │  │ 签到管理   │ │ 课堂测验   │ │ 状态面板   │                      │   │
│  │  │           │ │           │ │           │                      │   │
│  │  │ - 发起签到 │ │ - 发布题目 │ │ - 实时指标 │                      │   │
│  │  │ - 签到列表 │ │ - 进度监控 │ │ - 时间管理 │                      │   │
│  │  │ - 统计导出 │ │ - 结果统计 │ │ - 课堂控制 │                      │   │
│  │  └───────────┘ └───────────┘ └───────────┘                      │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     学情分析（P2 - 三期）                         │   │
│  ├─────────────────────────────────────────────────────────────────┤   │
│  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐       │   │
│  │  │ 作业管理   │ │ 成绩分析   │ │ 学情画像   │ │ 教学反思   │       │   │
│  │  │           │ │           │ │           │ │           │       │   │
│  │  │ - 布置作业 │ │ - 成绩录入 │ │ - 知识维度 │ │ - 课后备注 │       │   │
│  │  │ - 批改管理 │ │ - 趋势分析 │ │ - 行为维度 │ │ - 改进建议 │       │   │
│  │  │ - 反馈发送 │ │ - 对比分析 │ │ - 综合评分 │ │ - 报告导出 │       │   │
│  │  └───────────┘ └───────────┘ └───────────┘ └───────────┘       │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 4.2 优先级矩阵

| 功能 | 用户价值 | 实现复杂度 | 依赖关系 | 优先级 | 期次 |
|------|---------|-----------|---------|--------|------|
| 统一备课工作台框架 | 高 | 中 | 无 | P0 | 一期 |
| 课程/课时管理 | 高 | 低 | 工作台框架 | P0 | 一期 |
| AI课件大纲生成 | 高 | 中 | Dify服务 | P0 | 一期 |
| PPT一键生成 | 高 | 低 | 讯飞API | P0 | 一期 |
| 试题库整合 | 高 | 中 | 现有模块 | P0 | 一期 |
| 智能组卷 | 高 | 中 | 试题库 | P0 | 一期 |
| 教案规划 | 中 | 低 | 课时管理 | P0 | 一期 |
| AI对话助手 | 高 | 低 | Dify服务 | P0 | 一期 |
| 发布（备课完成） | 中 | 低 | 课件/试题/教案完成 | P0 | 一期 |
| 签到管理 | 中 | 中 | 名单导入/二维码 | P1 | 二期 |
| 课堂测验 | 中 | 中 | 试题准备/H5答题 | P1 | 二期 |
| 课堂状态面板 | 中 | 低 | 签到/测验 | P1 | 二期 |
| 作业布置 | 中 | 中 | 试题库 | P2 | 三期 |
| 学情画像 | 高 | 高 | 全数据 | P2 | 三期 |
| 教学反思 | 低 | 低 | 课时管理 | P2 | 三期 |
| 报告导出 | 中 | 低 | 学情画像 | P2 | 三期 |

---

## 5. MVP范围定义

### 5.1 MVP核心范围

**MVP目标**: 完成备课工作台核心功能，实现教师备课效率提升

**MVP边界**:
- **IN SCOPE**: 备课工作台全部功能（课件/试题/教案）+ 发布（备课完成）
- **OUT OF SCOPE**: 课堂管理、学情分析（后续迭代）
- **占位策略**: 课堂管理与学情分析入口保留占位与提示文案（P0可见但不可用）

### 5.2 MVP功能清单

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          MVP 功能范围                                    │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [核心功能 - 必须交付]                                                   │
│  ├── 备课工作台框架                                                      │
│  │   ├── 左右分栏布局（IDE风格）                                         │
│  │   ├── 左侧课程导航树                                                  │
│  │   └── 右侧内容编辑区                                                  │
│  │                                                                       │
│  ├── 课程管理                                                            │
│  │   ├── 创建/编辑/删除课程                                              │
│  │   ├── 添加/排序/管理课时                                              │
│  │   └── 课程资源目录展示                                                │
│  │                                                                       │
│  ├── AI课件生成                                                          │
│  │   ├── AI生成PPT大纲                                                   │
│  │   ├── 大纲编辑和调整                                                  │
│  │   └── 一键生成完整PPT                                                 │
│  │                                                                       │
│  ├── 试题准备                                                            │
│  │   ├── 试题库浏览和搜索                                                │
│  │   ├── 选题组卷                                                        │
│  │   └── 课时关联测验                                                    │
│  │                                                                       │
│  ├── 教案规划                                                            │
│  │   ├── 教案模板选择                                                    │
│  │   ├── 环节时间分配                                                    │
│  │   └── 教学流程设计                                                    │
│  │                                                                       │
│  ├── 发布（备课完成）                                                    │
│  │   ├── 发布即进入授课准备状态                                          │
│  │   └── 生成关键节点版本                                                │
│  │                                                                       │
│  └── AI对话助手                                                          │
│      ├── 备课问答对话                                                    │
│      └── 教学建议生成                                                    │
│                                                                         │
│  [增强功能 - 尽量交付]                                                   │
│  ├── 智能组卷（AI推荐题目）                                              │
│  ├── 教案AI优化建议                                                      │
│  └── 课件模板库                                                          │
│                                                                         │
│  [延后功能 - 二期规划]                                                   │
│  ├── 签到管理（二维码签到 + 名单导入）                                   │
│  ├── 课堂测验发布（轻量H5答题）                                          │
│  └── 课堂状态面板                                                        │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 5.3 MVP成功标准

| 指标 | 目标值 | 衡量方式 |
|------|-------|---------|
| 功能完成度 | 100%核心功能 | 验收测试通过率 |
| 备课效率提升 | >50% | 用户调研对比 |
| 用户满意度 | >4.0/5.0 | 用户反馈评分 |
| 系统稳定性 | >99% | 无崩溃运行时间 |
| 现有功能兼容 | 100% | 回归测试通过 |

---

## 6. 产品路线图

### 6.1 三期规划总览

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          产品路线图（三期规划）                           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  2026 Q1                2026 Q2                2026 Q3                  │
│  ────────────────────────────────────────────────────────────────────   │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │
│  │    一期: MVP     │  │   二期: 课堂    │  │   三期: 分析    │         │
│  │   备课工作台     │  │   管理功能      │  │   学情画像      │         │
│  ├─────────────────┤  ├─────────────────┤  ├─────────────────┤         │
│  │                 │  │                 │  │                 │         │
│  │ - 统一工作台框架 │  │ - 签到管理      │  │ - 作业布置      │         │
│  │ - 课程/课时管理  │  │ - 课堂测验      │  │ - 成绩分析      │         │
│  │ - AI课件生成    │  │ - 答题监控      │  │ - 学情画像      │         │
│  │ - 试题库整合    │  │ - 状态面板      │  │ - 教学反思      │         │
│  │ - 智能组卷      │  │                 │  │ - 报告导出      │         │
│  │ - 教案规划      │  │                 │  │                 │         │
│  │ - AI对话助手    │  │                 │  │                 │         │
│  │                 │  │                 │  │                 │         │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘         │
│         │                    │                    │                     │
│         ▼                    ▼                    ▼                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │
│  │ 里程碑: MVP发布  │  │ 里程碑: 课堂功能 │  │ 里程碑: 完整版本 │         │
│  │ 备课效率提升50%  │  │ 课堂管理上线    │  │ 全流程闭环      │         │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘         │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 6.2 一期详细计划（MVP - 备课优先）

**周期**: 8-10周

**阶段分解**:

| 阶段 | 周期 | 交付物 | 里程碑 |
|------|------|--------|--------|
| 设计阶段 | W1-W2 | UI原型、技术方案 | 设计评审通过 |
| 框架搭建 | W3-W4 | 工作台框架、导航集成 | 框架可运行 |
| 核心功能 | W5-W7 | 课程管理、课件生成、试题整合 | 核心功能可用 |
| 完善优化 | W8-W9 | 教案规划、AI对话、体验优化 | 功能完整 |
| 测试发布 | W10 | 测试修复、文档、发布 | MVP上线（发布=备课完成） |

**详细功能分解**:

```
一期功能开发顺序:

Week 3-4: 框架搭建
├── TeachingWorkbenchWidget (新建)
│   ├── 左右分栏布局实现
│   ├── 与ModernMainWindow集成
│   └── 基础导航功能
│
├── 课程导航树组件
│   ├── CourseTreeWidget (新建)
│   ├── 树形结构展示
│   └── 节点操作菜单

Week 5-6: 课程与课件
├── 课程管理
│   ├── CourseManager (新建)
│   ├── 课程CRUD操作
│   └── 课时管理功能
│
├── AI课件生成
│   ├── 复用DifyService
│   ├── 大纲生成对话
│   ├── 复用XunfeiPPTService
│   └── PPT生成与下载

Week 7: 试题整合
├── 试题库整合
│   ├── 渐进迁入QuestionBankWindow功能
│   ├── 试题浏览和搜索
│   └── 选题组卷功能
│
├── 智能组卷
│   ├── AI题目推荐
│   └── 组卷预览

Week 8-9: 教案与AI
├── 教案规划
│   ├── LessonPlanEditor (新建)
│   ├── 教案模板
│   └── 环节时间分配
│
├── AI对话助手
│   ├── 复用AIChatDialog
│   ├── 备课场景优化
│   └── 上下文集成
```

### 6.3 二期详细计划（课堂管理）

**周期**: 6-8周

**功能范围**:
- 签到管理：发起签到、签到列表、统计导出
- 课堂测验：发布题目、进度监控、结果统计
- 状态面板：实时指标、时间管理、课堂控制

**依赖条件**:
- 无学生端前提下的数据采集方案：名单导入 + 二维码签到 + 轻量H5答题
- 一期功能稳定运行

### 6.4 三期详细计划（学情分析）

**周期**: 6-8周

**功能范围**:
- 作业布置与批改
- 成绩录入与分析
- 多维度学情画像
- 教学反思记录
- 报告生成导出

**依赖条件**:
- 二期课堂数据积累
- 数据分析模型设计

---

## 7. 技术集成要点

### 7.1 现有模块复用

| 模块 | 复用方式 | 改造点 |
|------|---------|--------|
| DifyService | 直接复用 | 添加备课场景prompt模板 |
| XunfeiPPTService | 直接复用 | 嵌入工作台调用 |
| QuestionBankWindow | 渐进迁入 | 抽取核心逻辑，UI重构 |
| DataAnalyticsWidget | 扩展复用 | 添加学情分析维度 |
| SupabaseClient | 直接复用 | 添加新数据表操作 |
| AIChatDialog | 适配复用 | 上下文集成优化 |

### 7.2 新增组件规划

| 组件 | 功能 | 技术要点 |
|------|------|---------|
| TeachingWorkbenchWidget | 备课工作台主容器 | QSplitter分栏布局 |
| CourseTreeWidget | 课程导航树 | QTreeView + 自定义Model |
| CourseManager | 课程数据管理 | Supabase CRUD封装 |
| LessonPlanEditor | 教案编辑器 | 富文本编辑 + 模板 |
| QuizAssemblyWidget | 组卷界面 | 拖拽选题 + 预览 |
| ClassroomControlPanel | 课堂控制面板 | 实时状态 + 操作按钮 |
| RefreshPolicy | 刷新策略管理 | 定时刷新 + 手动触发 |
| LearningAnalyticsView | 学情分析视图 | 图表 + 列表混合 |

### 7.3 导航结构设计

```
ModernMainWindow 主窗口
├── 侧边栏导航 (保留现有)
│   ├── 首页
│   ├── 备课工作台 ← 新增入口
│   ├── 课堂管理 ← 二期新增（P0占位入口）
│   ├── 学情分析 ← 扩展现有DataAnalyticsWidget（P0占位入口）
│   ├── 试题库 ← 保留兼容入口（渐进废弃）
│   └── 设置
│
└── 内容区
    └── TeachingWorkbenchWidget (点击"备课工作台"时显示)
        ├── 左侧: CourseTreeWidget (课程导航树)
        │   ├── 课程1
        │   │   ├── 课时1-1
        │   │   │   ├── 课件
        │   │   │   ├── 试题
        │   │   │   ├── 教案
        │   │   │   └── 发布（备课完成）
        │   │   └── 课时1-2
        │   └── 课程2
        │
        └── 右侧: 动态内容区
            ├── 课件编辑区 (选中课件时)
            ├── 试题组卷区 (选中试题时)
            ├── 教案编辑区 (选中教案时)
            └── 发布确认区 (选中发布时)
```

---

## 8. 成功指标与验收标准

### 8.1 关键绩效指标（KPIs）

| 指标类别 | 指标名称 | 目标值 | 衡量方式 |
|---------|---------|--------|---------|
| **效率指标** | 备课时间减少 | >50% | 用户调研对比 |
| | 课件生成速度 | <3分钟 | 系统记录 |
| | 组卷完成时间 | <5分钟 | 系统记录 |
| **质量指标** | 系统稳定性 | >99% | 无崩溃运行 |
| | 功能完成率 | 100% | 验收测试 |
| | Bug修复率 | >95% | 缺陷追踪 |
| **用户指标** | 用户满意度 | >4.0/5.0 | 反馈评分 |
| | 功能使用率 | >80% | 使用统计 |
| | 日活跃用户 | >60% | 登录统计 |
| **行为指标（首批埋点优先）** | 进入次数 | 核心功能进入≥3次/周 | 事件埋点统计 |
| | 功能使用率 | 课件/试题/教案使用率≥60% | 事件埋点统计 |

### 8.2 验收标准清单

#### 一期（MVP）验收标准

| 模块 | 验收条件 | 验收人 |
|------|---------|--------|
| 工作台框架 | 左右分栏正常显示，导航切换流畅 | 产品+测试 |
| 课程管理 | CRUD操作正常，数据持久化 | 产品+测试 |
| 课件生成 | AI大纲生成成功，PPT下载正常 | 产品+测试 |
| 试题整合 | 题库浏览正常，组卷功能可用 | 产品+测试 |
| 教案规划 | 模板可用，保存加载正常 | 产品+测试 |
| AI对话 | 流式响应正常，上下文有效 | 产品+测试 |
| 现有兼容 | 原有功能无回归问题 | 测试 |

#### 二期验收标准

| 模块 | 验收条件 | 验收人 |
|------|---------|--------|
| 签到管理 | 发起/结束签到正常，统计准确 | 产品+测试 |
| 课堂测验 | 发题/收题正常，结果统计正确 | 产品+测试 |
| 状态面板 | 实时数据准确，操作响应及时 | 产品+测试 |

#### 三期验收标准

| 模块 | 验收条件 | 验收人 |
|------|---------|--------|
| 作业管理 | 布置/批改流程完整 | 产品+测试 |
| 学情画像 | 多维度分析准确，可视化清晰 | 产品+测试 |
| 报告导出 | PDF/Excel格式正确，数据完整 | 产品+测试 |

---

## 9. 风险评估与缓解措施

### 9.1 风险矩阵

| 风险ID | 风险描述 | 可能性 | 影响 | 风险等级 | 缓解措施 |
|--------|---------|--------|------|---------|---------|
| R-001 | 渐进式迁移导致新旧模块冲突 | 中 | 高 | 高 | 制定详细迁移计划，充分测试 |
| R-002 | AI服务不稳定影响核心功能 | 低 | 高 | 中 | 添加降级方案，缓存机制 |
| R-003 | 开发周期超出预期 | 中 | 中 | 中 | 严格范围控制，优先级管理 |
| R-004 | 用户接受度低于预期 | 低 | 中 | 低 | 早期用户测试，迭代优化 |
| R-005 | 本地存储限制多设备同步 | 低 | 低 | 低 | 预留对象存储接口 |
| R-006 | 性能问题影响体验 | 中 | 中 | 中 | 性能测试，优化瓶颈 |
| R-007 | 文件版本缺失导致回溯困难 | 中 | 中 | 中 | 关键节点版本（发布/导出时） |

### 9.2 高风险项应对策略

#### R-001: 渐进式迁移冲突

**缓解措施**:
1. 制定详细的迁移时间表和步骤
2. 保持旧模块完全可用，新模块并行运行
3. 设置明确的废弃时间点和通知机制
4. 建立完整的回归测试用例集
5. 分阶段上线，逐步切换流量

#### R-002: AI服务不稳定

**缓解措施**:
1. 实现请求重试机制（3次重试，指数退避）
2. 添加本地缓存层，缓存常用结果
3. 设计降级方案：AI不可用时显示手动备选
4. 建立服务健康监控和告警
5. 准备备用AI服务商接入方案

#### R-007: 文件版本缺失导致回溯困难

**缓解措施**:
1. 关键节点版本控制：发布与导出时自动生成版本
2. 版本标识与说明：记录操作人、时间与变更摘要
3. 版本回溯入口：在课件/试题/教案详情提供版本列表

### 9.3 约束条件确认

| 约束类型 | 约束内容 | 应对方式 |
|---------|---------|---------|
| 技术栈 | Qt6/C++, Supabase, Dify | 复用现有能力 |
| 部署模式 | 单机桌面应用 | 本地存储优先 |
| 兼容性 | 保持现有功能正常 | 回归测试覆盖 |
| 用户规模 | 小班教学30人 | 简化并发设计 |
| 时间 | 一期8-10周 | 严格范围控制 |

---

## 10. 下一步行动建议

### 10.1 即时行动项（本周）

1. **设计启动**: 启动UI设计工作，输出备课工作台原型
2. **技术评审**: 与开发团队评审技术方案和工作量估算
3. **数据库设计**: 确认新增数据表结构设计
4. **接口定义**: 明确各模块间接口规范

### 10.2 一期关键里程碑

| 里程碑 | 时间 | 交付物 | 负责人 |
|--------|------|--------|--------|
| M1: 设计评审 | W2 | UI原型、技术方案 | 产品+UI+架构 |
| M2: 框架完成 | W4 | 工作台框架可运行 | 开发 |
| M3: 核心功能 | W7 | 课程、课件、试题功能 | 开发 |
| M4: 功能冻结 | W9 | 全部功能开发完成 | 开发 |
| M5: MVP发布 | W10 | 测试通过，正式上线 | 全员 |

### 10.3 跨角色协作要点

- **UI设计师**: 完成备课工作台完整UI设计，确保与现有风格一致
- **数据架构师**: 完成数据模型设计，确保可扩展性
- **开发团队**: 理解技术集成方案，评估实现工作量
- **测试团队**: 准备测试用例，建立回归测试基线

---

## 附录A: 竞品分析参考

### A.1 主流教学工具对比

| 功能 | 雨课堂 | 学习通 | 本项目定位 |
|------|--------|--------|-----------|
| AI备课 | 基础 | 无 | 深度集成 |
| 课件生成 | 无 | 无 | AI一键生成 |
| 智能组卷 | 有 | 有 | AI推荐优化 |
| 课堂互动 | 强 | 强 | 基础功能 |
| 学情分析 | 中 | 中 | 多维画像 |
| 桌面应用 | 无 | 无 | 原生体验 |

### A.2 差异化策略

1. **AI深度集成**: 区别于其他工具的表面AI功能
2. **原生桌面体验**: Qt6原生应用，响应速度快
3. **一站式工作台**: 整合分散功能，减少切换
4. **思政特色**: 针对思政教学场景优化

---

## 附录B: 决策日志

| 日期 | 决策内容 | 理由 | 决策人 |
|------|---------|------|--------|
| 2026-02-02 | MVP优先备课功能 | 教师最高频场景 | PM |
| 2026-02-02 | 采用渐进式迁移 | 保持现有功能兼容 | PM+架构 |
| 2026-02-02 | 本期仅教师端 | 专注核心用户 | PM |
| 2026-02-02 | 设计先行实现分期 | 完整规划分步交付 | PM+UI |
| 2026-02-02 | 左右分栏IDE风格 | 高效操作体验 | UI |
| 2026-02-02 | 发布=备课完成，可进入授课 | 统一动作语义 | PM |
| 2026-02-02 | 关键节点版本（发布/导出） | 确保可回溯 | PM+研发 |
| 2026-02-02 | 以课程为中心数据模型 | 层级清晰易扩展 | 数据架构 |

---

**文档状态**: 完成
**版本**: 1.0
**最后更新**: 2026-02-02
